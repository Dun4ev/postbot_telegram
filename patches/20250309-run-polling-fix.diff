diff --git a/bot.py b/bot.py
old mode 100644
new mode 100755
index 2675694..b6c9266
--- a/bot.py
+++ b/bot.py
@@ -64,7 +64,7 @@ def _parse_slots_from_env() -> List[dtime]:
         if not chunk:
             continue
         hh, mm = chunk.split(":")
-        slots.append(dtime(int(hh), int(mm)))
+        slots.append(dtime(int(hh), int(mm), tzinfo=TZ))
     return slots
 
 DAILY_SLOTS = _parse_slots_from_env()
@@ -212,6 +212,7 @@ async def publish_next(context: ContextTypes.DEFAULT_TYPE):
 
 def build_app() -> Application:
     app = Application.builder().token(BOT_TOKEN).concurrent_updates(2).build()
+    app.job_queue.scheduler.configure(timezone=TZ)
 
     # команды
     app.add_handler(CommandHandler("start", cmd_start))
@@ -226,15 +227,16 @@ def build_app() -> Application:
     for t in DAILY_SLOTS:
         app.job_queue.run_daily(
             publish_next,
-            time=t,
+            time=t,  # tz-aware: respect TZ
             days=(0, 1, 2, 3, 4, 5, 6),     # каждый день
-            name=f"slot_{t.strftime('%H%M')}",
-            timezone=TZ
+            name=f"slot_{t.strftime('%H%M')}"
         )
     return app
 
-async def main():
-    await db_init()
+def main():
+    loop = asyncio.new_event_loop()
+    asyncio.set_event_loop(loop)
+    loop.run_until_complete(db_init())
     app = build_app()
 
     # Бережный long-polling:
@@ -243,23 +245,24 @@ async def main():
     # - read_timeout=35   — ждём сеть подольше (NAT, DSM)
     # - allowed_updates   — только "message", чтобы не тянуть лишнее
     # - drop_pending_updates=True — не забирать старые апдейты из истории при рестарте
-    await app.initialize()
-    await app.start()
-    try:
-        await app.run_polling(
-            poll_interval=0.0,
-            timeout=25,
-            read_timeout=35,
-            allowed_updates=["message"],
-            drop_pending_updates=True,
-            stop_signals=None,   # корректно завершится по Ctrl+C/kill
-        )
-    finally:
-        await app.stop()
-        await app.shutdown()
+    app.run_polling(
+        poll_interval=0.0,
+        timeout=25,
+        read_timeout=35,
+        allowed_updates=["message"],
+        drop_pending_updates=True,
+        stop_signals=None,   # корректно завершится по Ctrl+C/kill
+    )
+
+    asyncio.set_event_loop(None)
+
+import warnings
+warnings.filterwarnings("ignore", category=DeprecationWarning)
+warnings.filterwarnings("ignore", category=RuntimeWarning)
 
 if __name__ == "__main__":
+    # Универсально: работает корректно в консольном режиме
     try:
-        asyncio.run(main())
+        main()
     except KeyboardInterrupt:
         pass
